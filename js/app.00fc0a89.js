(function(){"use strict";var e={573:function(e,t,a){var s=a(5130),l=a(6768),n=a(4232),i=a(144);const o={class:"stat-container"},c={class:"stat-name"},r={class:"stat-values-container"},u=["src"],v={class:"factor-val"};var d={__name:"LeftPanel",setup(e){const t=e=>`/assets/factors/${e}.png`,a=(0,i.KR)([{name:"í˜•ìƒì¸ìž",factors:[{factorType:"sentinel",val:2},{factorType:"vanguard",val:5},{factorType:"bulwark",val:1},{factorType:"support",val:4}]}]);return(e,s)=>((0,l.uX)(),(0,l.CE)("div",o,[s[0]||(s[0]=(0,l.Lk)("h2",null,"Sentinel Core - Nikketa",-1)),s[1]||(s[1]=(0,l.Lk)("div",{class:"level-info"},"Lv.60/60",-1)),s[2]||(s[2]=(0,l.Lk)("hr",{class:"divider"},null,-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.value,(e,a)=>((0,l.uX)(),(0,l.CE)("div",{class:"stat-row",key:a},[(0,l.Lk)("div",c,"ðŸ”¹ "+(0,n.v_)(e.name),1),(0,l.Lk)("div",r,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.factors.w,(e,a)=>((0,l.uX)(),(0,l.CE)("div",{key:a,class:"factor-item"},[(0,l.Lk)("img",{src:t(e.factorType),alt:"icon",class:"factor-icon"},null,8,u),(0,l.Lk)("span",v,(0,n.v_)(e.val),1)]))),128))])]))),128))]))}},p=a(1241);const k=(0,p.A)(d,[["__scopeId","data-v-2087f21c"]]);var y=k,m=(a(8111),a(116),a(7588),a(1701),a(3230));const f="kr",L=(0,i.Kh)({stats:[],statMap:{},statCodeMap:{},lczMap:{},isLoaded:!1,slots:[{type:"sentinel",item:null},{type:"sentinel",item:null},{type:"sentinel",item:null},{type:"sentinel",item:null},{type:"vanguard",item:null},{type:"bulwark",item:null}],activeSlotIndex:-1}),h=()=>{L.activeSlotIndex=-1},C=e=>{L.activeSlotIndex>=0&&L.activeSlotIndex<L.slots.length&&(L.slots[L.activeSlotIndex].item=e,console.log(`Slot ${L.activeSlotIndex} equipped.`),h())},b=e=>{e>=0&&e<L.slots.length&&(L.slots[e].item=null,console.log(`Slot ${e} unequipped.`),h())},E=async()=>{if(!L.isLoaded)try{const e=await fetch("/assets/rpfv-data.xlsx"),t=await e.arrayBuffer(),a=m.LF(t,{type:"array"}),s=a.Sheets["Stats"],l=m.Wp.sheet_to_json(s),n=l.map(e=>{let t=[];if(e.values){const a=e.values.toString();t=a.split("/").map(e=>e.trim())}return{key:e.key,code1:e.code1,code2:e.code2,code3:e.code3,isMajor:"true"==e.isMajor,factorType:e.factorType,maxLevel:e.maxLevel||6,values:t,nameKey:`${e.key}@name`,nicknameKey:`${e.key}@nickname`,descKey:`${e.key}@desc`}});L.stats=n;const i={};n.forEach(e=>{e.key&&(i[e.key]=e)}),L.statMap=i;const o={};n.forEach(e=>{e.code1&&(o[e.code1]={statKey:e.key,level:1}),e.code2&&(o[e.code2]={statKey:e.key,level:2}),e.code3&&(o[e.code3]={statKey:e.key,level:3})}),L.statCodeMap=o;const c=a.Sheets["Localization"],r=m.Wp.sheet_to_json(c);L.lczMap=_(r),L.isLoaded=!0,console.log(`[SharedData] Loaded ${n.length} stats.`)}catch(e){console.error("[SharedData] ë¡œë”© ì‹¤íŒ¨:",e)}},_=e=>{const t={kr:{},en:{},cn:{}};return e.forEach(e=>{const a=e.name;a&&(void 0!==e.kr&&(t.kr[a]=e.kr),void 0!==e.en&&(t.en[a]=e.en),void 0!==e.cn&&(t.cn[a]=e.cn))}),t},g=e=>{const t=L.lczMap[f];return t[e]||e},w={class:"panel-container"},I={class:"list-area"},X={key:0,class:"empty-msg"},x={class:"item-middle"},S={class:"stat-name-row"},K={key:0,class:"overflow-warning"},T=["innerHTML"],R={class:"icon-track"};var F={__name:"RightPanel",setup(e){const t={sentinel:1,vanguard:2,bulwark:3,support:4},a=(0,l.EW)(()=>{const e={};return L.slots.forEach(t=>{t.item&&t.item.stats&&t.item.stats.forEach(t=>{const a=L.stats.find(e=>g(e.nameKey)===t.name);a&&(e[a.key]||(e[a.key]={...a,rawLevel:0,displayLevel:0,isOverflow:!1,overVal:0}),e[a.key].rawLevel+=t.level)})}),Object.values(e).map(e=>(e.rawLevel>e.maxLevel?(e.displayLevel=e.maxLevel,e.isOverflow=!0,e.overVal=e.rawLevel-e.maxLevel):(e.displayLevel=e.rawLevel,e.isOverflow=!1,e.overVal=0),e)).sort((e,a)=>{const s=t[e.factorType]||99,l=t[a.factorType]||99;if(s!=l)return s-l;const n=e.isMajor?1:0,i=a.isMajor?1:0;return n!=i?n?-1:1:e.key<a.key?-1:e.key>a.key?1:0})}),s=e=>{if(!e.descKey)return"";const t=e.displayLevel,a=t>0?e.values[t-1]||"?":"-",s=`<span class="val-highlight">${a}</span>`,l=g(e.descKey);return l.replace("{0}",s).replace(/\n/g,"<br>")};return(0,l.sV)(()=>{E()}),(e,t)=>((0,l.uX)(),(0,l.CE)("div",w,[t[1]||(t[1]=(0,l.Lk)("div",{class:"header"},"Active Traits",-1)),(0,l.Lk)("div",I,[0===a.value.length?((0,l.uX)(),(0,l.CE)("div",X,[...t[0]||(t[0]=[(0,l.eW)(" No active traits. ",-1),(0,l.Lk)("br",null,null,-1),(0,l.eW)("Equip items to see stats. ",-1)])])):(0,l.Q3)("",!0),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.value,(e,t)=>((0,l.uX)(),(0,l.CE)("div",{class:"list-item",key:t},[(0,l.Lk)("div",{class:(0,n.C4)(["lvl-badge",{"max-lvl":e.displayLevel===e.maxLevel}])}," Lv."+(0,n.v_)(e.displayLevel),3),(0,l.Lk)("div",x,[(0,l.Lk)("div",S,[(0,l.Lk)("span",{class:(0,n.C4)(["stat-name",{"is-major":e.isMajor}])},(0,n.v_)((0,i.R1)(g)(e.nameKey)),3),e.isOverflow?((0,l.uX)(),(0,l.CE)("span",K," âš ï¸ +"+(0,n.v_)(e.overVal),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",{class:"stat-desc",innerHTML:s(e)},null,8,T)]),(0,l.Lk)("div",R,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.maxLevel,t=>((0,l.uX)(),(0,l.CE)("div",{key:t,class:(0,n.C4)(["level-block",[e.factorType,{"is-active":t<=e.displayLevel}]])},null,2))),128))])]))),128))])]))}};const M=(0,p.A)(F,[["__scopeId","data-v-26f773d2"]]);var O=M;const $={class:"stat-info-container"},j={class:"mini-stat-name"},A={class:"mini-track"},W={key:1,class:"empty-slot"};var N={__name:"StatDisplay",props:{stats:{type:Array,default:()=>[]}},setup(e){return(t,a)=>((0,l.uX)(),(0,l.CE)("div",$,[((0,l.uX)(),(0,l.CE)(l.FK,null,(0,l.pI)(3,t=>(0,l.Lk)("div",{key:t,class:"single-stat"},[e.stats&&e.stats[t-1]?((0,l.uX)(),(0,l.CE)(l.FK,{key:0},[(0,l.Lk)("span",j,(0,n.v_)(e.stats[t-1].name),1),(0,l.Lk)("div",A,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.stats[t-1].maxLevel,a=>((0,l.uX)(),(0,l.CE)("div",{key:a,class:(0,n.C4)(["mini-block",[e.stats[t-1].type,{active:a<=e.stats[t-1].level}]])},null,2))),128))])],64)):((0,l.uX)(),(0,l.CE)("div",W,"-"))])),64))]))}};const P=(0,p.A)(N,[["__scopeId","data-v-53339289"]]);var B=P;const D={class:"corner-type-icon"},V=["src"],Q=["src"],q={key:1,class:"placeholder-box"},z=["src"],U={key:2,class:"item-name"},H={class:"stats-wrapper"},Y={key:1,class:"empty-stats-msg"};var G={__name:"ItemCard",props:{item:{type:Object,default:null},placeholderType:{type:String,default:"sentinel"},isSelected:{type:Boolean,default:!1},isDisabled:{type:Boolean,default:!1},showName:{type:Boolean,default:!0}},setup(e){const t=e,a=(0,l.EW)(()=>t.item&&t.item.stats&&t.item.stats.length>0?t.item.stats[0].type:t.placeholderType),s=(0,l.EW)(()=>t.item&&t.item.stats&&t.item.stats.length>0?t.item.stats[0].level:1);return(t,i)=>((0,l.uX)(),(0,l.CE)("div",{class:(0,n.C4)(["item-card",{"is-selected":e.isSelected,"is-disabled":e.isDisabled,"is-empty":!e.item}])},[(0,l.RG)(t.$slots,"overlay"),(0,l.Lk)("div",D,[(0,l.Lk)("img",{src:`assets/factors/${a.value}_mono.webp`,alt:"type"},null,8,V)]),e.item?((0,l.uX)(),(0,l.CE)("div",{key:0,class:(0,n.C4)(["icon-box",`lv-${s.value}`])},[(0,l.Lk)("img",{src:`assets/items/${e.item.icon}.png`,alt:"icon"},null,8,Q),i[0]||(i[0]=(0,l.Lk)("div",{class:"rank-bar"},null,-1))],2)):((0,l.uX)(),(0,l.CE)("div",q,[(0,l.Lk)("img",{src:`assets/factors/${a.value}_mono.webp`,alt:"placeholder"},null,8,z)])),e.showName&&e.item?((0,l.uX)(),(0,l.CE)("div",U,(0,n.v_)(e.item.name),1)):(0,l.Q3)("",!0),(0,l.Lk)("div",H,[e.item?((0,l.uX)(),(0,l.Wv)(B,{key:0,stats:e.item.stats},null,8,["stats"])):((0,l.uX)(),(0,l.CE)("div",Y," EMPTY "))])],2))}};const J=(0,p.A)(G,[["__scopeId","data-v-93df527c"]]);var Z=J;const ee={class:"bottom-bar"},te={class:"slots-container"},ae=["onClick"],se=["onClick"];var le={__name:"BottomPanel",setup(e){const t=e=>{L.activeSlotIndex===e?h():L.activeSlotIndex=e},a=e=>{b(e)};return(e,n)=>((0,l.uX)(),(0,l.CE)("div",ee,[(0,l.Lk)("div",te,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,i.R1)(L).slots,(e,n)=>((0,l.uX)(),(0,l.CE)("div",{class:"slot-wrapper",key:n,onClick:e=>t(n)},[(0,l.bF)(Z,{item:e.item,"placeholder-type":e.type,"is-selected":(0,i.R1)(L).activeSlotIndex===n,"show-name":!1},{overlay:(0,l.k6)(()=>[e.item?((0,l.uX)(),(0,l.CE)("button",{key:0,class:"unequip-btn",onClick:(0,s.D$)(e=>a(n),["stop"])}," Ã— ",8,se)):(0,l.Q3)("",!0)]),_:2},1032,["item","placeholder-type","is-selected"])],8,ae))),128))])]))}};const ne=(0,p.A)(le,[["__scopeId","data-v-5a8471a5"]]);var ie=ne;a(4114),a(2489);const oe={class:"center-panel"},ce={class:"panel-header"},re={class:"header-top"},ue={class:"count"},ve={class:"filter-bar"},de=["disabled","onClick"],pe={class:"sort-bar"},ke={class:"sort-dropdown-container"},ye={key:0,class:"sort-menu"},me=["onClick"],fe={key:0},Le={key:1},he=["onClick"];var Ce={__name:"CenterPanel",setup(e){const t=(0,i.KR)([]),a=(0,i.KR)("all"),o=(0,i.KR)(null),c=(0,i.KR)(null),r=(0,i.KR)("rarity"),u=(0,i.KR)("desc"),v=(0,i.KR)(!1),d=[{label:"ALL",value:"all"},{label:"SENTINEL",value:"sentinel"},{label:"VANGUARD",value:"vanguard"},{label:"BULWARK",value:"bulwark"},{label:"SUPPORT",value:"support"}],p=[{label:"ë ˆì–´ë„",value:"rarity"},{label:"íšë“ ìˆœì„œ",value:"acquisition"}],k=e=>{r.value=e,v.value=!1},y=()=>{u.value="asc"===u.value?"desc":"asc"},f=(0,l.EW)(()=>{const e=p.find(e=>e.value===r.value);return e?e.label:"ì •ë ¬"});(0,l.wB)(()=>L.activeSlotIndex,async e=>{if(-1!==e){const t=L.slots[e];a.value=t.type,t.item?o.value=t.item.id:o.value=null,await(0,l.dY)(),c.value&&(c.value.scrollTop=0)}else a.value="all",o.value=null});const h=e=>{-1!==L.activeSlotIndex&&(o.value=e)},b=e=>{C(e)},_=e=>e.length>=2?e[1].nickname+"Â·"+e[0].nickname+I(e[0].level):1===e.length?e[0].nickname:"unknown",w=e=>{if(0==e.length)return"unknown";const t=e[0];return`${t.key}_${t.level}`},I=e=>3==e?"Î³":2==e?"Î²":1==e?"Î±":"",X=async()=>{try{await E();const e=await fetch("/assets/userdata.csv");if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const a=await e.arrayBuffer(),s=m.LF(a,{type:"array"}),l=s.Sheets[s.SheetNames[0]],n=m.Wp.sheet_to_json(l);t.value=n.map((e,t)=>{const a=[],s=["stat1","stat2","stat3"];s.forEach(t=>{const s=e[t];if(s){const e=L.statCodeMap[s],t=e.statKey,l=e.level,n=L.statMap[t],i=n?n.factorType:"unknown",o=n?n.maxLevel:6,c=g(n.nameKey),r=g(n.nicknameKey);a.push({key:t,level:l,name:c,type:i,maxLevel:o,nickname:r})}});let l=0n;try{e.uid&&(l=BigInt(String(e.uid).replace("U","")))}catch(o){l=0n}const n=a[0].level||0,i=a[0].type||0;return{id:l,index:t,name:_(a),icon:w(a),stats:a,rank:n,type:i}})}catch(e){console.error("ë°ì´í„° ë¡œë”© ì‹¤íŒ¨:",e)}},x=(0,l.EW)(()=>{let e=[...t.value];if("all"!==a.value&&(e=e.filter(e=>e.type===a.value)),e.sort((e,t)=>{let a=0;if("rarity"===r.value){const s=e.rank||0,l=t.rank||0;a=s-l,0===a&&(e.id<t.id?a=-1:e.id>t.id&&(a=1))}else e.id<t.id?a=-1:e.id>t.id&&(a=1);return"asc"===u.value?a:-a}),-1!==L.activeSlotIndex){const t=L.slots[L.activeSlotIndex];if(t&&t.item){const a=t.item.id,s=e.findIndex(e=>e.id===a);if(s>-1){const[t]=e.splice(s,1);e.unshift(t)}}}return e});return(0,l.sV)(()=>{X()}),(e,t)=>((0,l.uX)(),(0,l.CE)("div",oe,[(0,l.Lk)("div",ce,[(0,l.Lk)("div",re,[t[2]||(t[2]=(0,l.Lk)("h2",null,"INVENTORY",-1)),(0,l.Lk)("span",ue,(0,n.v_)(x.value.length)+" ITEMS",1)]),(0,l.Lk)("div",ve,[((0,l.uX)(),(0,l.CE)(l.FK,null,(0,l.pI)(d,e=>(0,l.Lk)("button",{key:e.value,class:(0,n.C4)(["filter-btn",[e.value,{active:a.value===e.value}]]),disabled:-1!==(0,i.R1)(L).activeSlotIndex,onClick:t=>a.value=e.value},(0,n.v_)(e.label),11,de)),64))]),(0,l.Lk)("div",pe,[(0,l.Lk)("div",ke,[(0,l.Lk)("div",{class:"sort-trigger",onClick:t[0]||(t[0]=e=>v.value=!v.value)},[t[3]||(t[3]=(0,l.Lk)("div",{class:"icon-diamond"},"â–",-1)),t[4]||(t[4]=(0,l.eW)()),(0,l.Lk)("span",null,(0,n.v_)(f.value),1),t[5]||(t[5]=(0,l.Lk)("span",{class:"arrow-down"},"â–¼",-1))]),v.value?((0,l.uX)(),(0,l.CE)("div",ye,[((0,l.uX)(),(0,l.CE)(l.FK,null,(0,l.pI)(p,e=>(0,l.Lk)("div",{key:e.value,class:(0,n.C4)(["sort-option",{selected:r.value===e.value}]),onClick:t=>k(e.value)},(0,n.v_)(e.label),11,me)),64))])):(0,l.Q3)("",!0),v.value?((0,l.uX)(),(0,l.CE)("div",{key:1,class:"dropdown-overlay",onClick:t[1]||(t[1]=e=>v.value=!1)})):(0,l.Q3)("",!0)]),(0,l.Lk)("button",{class:"sort-direction-btn",onClick:y},["desc"===u.value?((0,l.uX)(),(0,l.CE)("span",fe,"â¬‡")):((0,l.uX)(),(0,l.CE)("span",Le,"â¬†"))])])]),(0,l.Lk)("div",{class:"grid-container custom-scroll",ref_key:"gridContainer",ref:c},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(x.value,e=>((0,l.uX)(),(0,l.Wv)(Z,{key:e.id,class:"inventory-card",item:e,"is-selected":o.value===e.id,"is-disabled":-1===(0,i.R1)(L).activeSlotIndex,"show-name":!0,onClick:t=>h(e.id)},{overlay:(0,l.k6)(()=>[(0,i.R1)(L).activeSlotIndex>=0&&o.value===e.id?((0,l.uX)(),(0,l.CE)("button",{key:0,class:"equip-btn",onClick:(0,s.D$)(t=>b(e),["stop"])}," ìž¥ì°© ",8,he)):(0,l.Q3)("",!0)]),_:2},1032,["item","is-selected","is-disabled","onClick"]))),128))],512)]))}};const be=(0,p.A)(Ce,[["__scopeId","data-v-34dbb95b"]]);var Ee=be;const _e={class:"game-screen"},ge={class:"top-area"},we={class:"panel-center"};var Ie={__name:"App",setup(e){return(e,t)=>((0,l.uX)(),(0,l.CE)("div",_e,[(0,l.Lk)("div",ge,[(0,l.bF)(y,{class:"panel-left"}),(0,l.Lk)("div",we,[(0,l.bF)(Ee)]),(0,l.bF)(O,{class:"panel-right"})]),(0,l.bF)(ie,{class:"panel-bottom"})]))}};const Xe=(0,p.A)(Ie,[["__scopeId","data-v-3ec21d58"]]);var xe=Xe;(0,s.Ef)(xe).mount("#app")}},t={};function a(s){var l=t[s];if(void 0!==l)return l.exports;var n=t[s]={exports:{}};return e[s].call(n.exports,n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,s,l,n){if(!s){var i=1/0;for(u=0;u<e.length;u++){s=e[u][0],l=e[u][1],n=e[u][2];for(var o=!0,c=0;c<s.length;c++)(!1&n||i>=n)&&Object.keys(a.O).every(function(e){return a.O[e](s[c])})?s.splice(c--,1):(o=!1,n<i&&(i=n));if(o){e.splice(u--,1);var r=l();void 0!==r&&(t=r)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[s,l,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var l,n,i=s[0],o=s[1],c=s[2],r=0;if(i.some(function(t){return 0!==e[t]})){for(l in o)a.o(o,l)&&(a.m[l]=o[l]);if(c)var u=c(a)}for(t&&t(s);r<i.length;r++)n=i[r],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(u)},s=self["webpackChunkrpfv_editor"]=self["webpackChunkrpfv_editor"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[504],function(){return a(573)});s=a.O(s)})();
//# sourceMappingURL=app.00fc0a89.js.map